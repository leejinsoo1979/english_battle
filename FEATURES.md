# Phonics Master - Fill in the Blank

어린이를 위한 파닉스 학습 게임으로, 드래그 앤 드롭 또는 키보드 입력으로 빈칸에 알파벳을 채워 단어를 완성하는 교육용 웹 애플리케이션입니다.

## 핵심 기능

### 1. 게임 플레이
- **빈칸 채우기**: 문장 속 빈칸(`____`)에 알맞은 글자를 배치하여 단어 완성
- **드래그 앤 드롭**: 글자 블록을 드래그하여 슬롯에 배치
- **키보드 지원**: 키보드로 글자 입력 시 자동으로 첫 번째 빈 슬롯에 배치
- **글자 되돌리기**: 배치한 글자를 클릭하면 다시 글자 풀로 반환

### 2. 학습 콘텐츠

| 레벨 | 문장 | 정답 | 파닉스 규칙 |
|------|------|------|-------------|
| 1 | There is a ____. | monkey | - |
| 2 | The cat ____ the fish. | ate | Magic E (묵음 E) |
| 3 | I love to bake a ____. | cake | Magic E (장모음 a) |
| 4 | The ____ is bright today. | sun | - |
| 5 | Look at the big ____. | ship | Digraph sh (/sh/ 소리) |

### 3. 파닉스 규칙 학습
- **Magic E**: 묵음 E가 앞 모음을 장모음으로 만드는 규칙 (ate, cake)
- **Digraph**: 두 글자가 합쳐져 하나의 소리를 내는 규칙 (ship의 sh)
- 정답 시 해당 규칙 설명이 화면에 표시됨

### 4. 피드백 시스템
- **정답 시**:
  - 컨페티(축하 효과) 애니메이션
  - "EXCELLENT!" 배지 표시
  - 단어 TTS(음성) 재생
  - 무지개색 글자 애니메이션
- **오답 시**:
  - 화면 흔들림 효과
  - 오답 효과음

### 5. 음성 기능
- **TTS (Text-to-Speech)**: 단어와 문장을 영어로 읽어줌
- **힌트 버튼**: 이미지 옆 스피커 버튼 클릭 시 정답 단어 발음
- **Web Speech API** 사용 (영어, 속도 0.9)

### 6. 효과음
| 효과음 | 사용 시점 |
|--------|----------|
| pop | 글자 드래그 시작, 힌트 버튼 클릭 |
| snap | 글자 슬롯에 배치 |
| fanfare | 정답 시 |
| wrong | 오답 시 |

## 게임 흐름

```
[인트로 화면] → [게임 플레이] → [결과 화면]
     │              │               │
     │              ├─ 레벨 1~5     │
     │              └─ 타이머 2분   │
     │                              │
     └────────────── 재시작 ────────┘
```

### 화면 구성

1. **IntroScreen**: 게임 시작 화면
   - 게임 로고 및 제목
   - "Let's Play!" 시작 버튼

2. **GameHeader**: 게임 진행 헤더
   - 현재 유닛/레벨 표시 (예: Unit 1. Words 3/5)
   - 남은 시간 표시 (초)
   - 진행률 프로그레스 바

3. **QuizScreen**: 메인 게임 화면
   - 문장과 빈칸 슬롯
   - 힌트 이미지 (Unsplash 사진)
   - 글자 블록 풀
   - 상태 표시 바

4. **ResultScreen**: 결과 화면
   - 점수 표시 (레벨당 10점)
   - 정확도 퍼센트
   - 성과 메시지 (Perfect!/Excellent!/Good Job!)
   - "Back to Menu" 버튼

## 기술 스택

| 기술 | 용도 |
|------|------|
| React 19 | UI 프레임워크 |
| TypeScript | 타입 안정성 |
| Vite | 빌드 도구 |
| Tailwind CSS | 스타일링 |
| Framer Motion | 애니메이션 |
| canvas-confetti | 축하 효과 |
| Web Speech API | TTS 음성 |
| Font Awesome | 아이콘 |

## 프로젝트 구조

```
phonics-master_-fill-in-the-blank/
├── App.tsx              # 메인 앱 컴포넌트, 게임 상태 관리
├── index.tsx            # React 진입점
├── index.html           # HTML 템플릿
├── types.ts             # TypeScript 타입 정의
├── constants.ts         # 레벨 데이터, 게임 설정
├── vite.config.ts       # Vite 설정
├── components/
│   ├── IntroScreen.tsx  # 시작 화면
│   ├── GameHeader.tsx   # 게임 헤더 (진행률, 타이머)
│   ├── QuizScreen.tsx   # 퀴즈 메인 화면
│   ├── LetterBlock.tsx  # 드래그 가능한 글자 블록
│   ├── DropSlot.tsx     # 글자 드롭 슬롯
│   └── ResultScreen.tsx # 결과 화면
└── utils/
    └── sounds.ts        # 효과음 재생 유틸리티
```

## 게임 상태 관리

```typescript
interface GameState {
  currentLevelIndex: number;  // 현재 레벨 (0-4)
  score: number;              // 총 점수
  timeLeft: number;           // 남은 시간 (초)
  status: 'intro' | 'playing' | 'game-over';
}
```

## 실행 방법

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build
```

## 주요 특징

- **반응형 디자인**: 모바일/태블릿/데스크톱 지원
- **접근성**: 키보드 네비게이션 지원
- **시각적 피드백**: 풍부한 애니메이션과 효과음
- **교육적 가치**: 파닉스 규칙 학습과 함께하는 게임

---

## 레벨 관리 (Admin) 기능

### 접근 방법
시작 화면 우측 상단의 **톱니바퀴 아이콘(⚙️)** 클릭

### 화면 구성

```
┌─────────────────────────────────────────────────────────┐
│  ← 게임으로 돌아가기              ⚙️ 레벨 관리          │
├──────────────────────┬──────────────────────────────────┤
│                      │                                  │
│   📋 레벨 목록 (5)   │      ✏️ 레벨 수정               │
│   ┌──────────────┐   │                                  │
│   │ 🖼️ monkey    │   │   문장: There is a ____.        │
│   │ #1 Magic E   │   │   정답: monkey                  │
│   └──────────────┘   │   이미지: [URL]  [미리보기]     │
│   ┌──────────────┐   │   오답글자: n, e                │
│   │ 🖼️ ate       │   │   파닉스: [선택]               │
│   │ #2           │   │                                  │
│   └──────────────┘   │   [수정 저장]  [취소]           │
│         ...          │                                  │
│                      │                                  │
│   [+ 새 레벨]        │                                  │
│                      │                                  │
└──────────────────────┴──────────────────────────────────┘
```

### 기능 목록

| 기능 | 설명 | 사용법 |
|------|------|--------|
| **레벨 목록 보기** | 모든 레벨을 썸네일과 함께 표시 | 왼쪽 패널에서 확인 |
| **새 레벨 추가** | 새로운 퀴즈 레벨 생성 | "새 레벨" 버튼 클릭 |
| **레벨 수정** | 기존 레벨 내용 편집 | 레벨 카드 클릭 |
| **레벨 삭제** | 레벨 제거 | 🗑️ 휴지통 아이콘 클릭 |
| **게임으로 복귀** | 관리 화면 닫기 | "게임으로 돌아가기" 클릭 |

### 입력 필드 상세

#### 1. 문장 (필수)
```
입력: There is a ____.
규칙: 빈칸은 반드시 ____ (밑줄 4개)로 표시
```

#### 2. 정답 단어 (필수)
```
입력: monkey
표시: 입력 시 글자별 미리보기 제공
      [m] [o] [n] [k] [e] [y]
```

#### 3. 이미지 URL (선택)
```
입력: https://images.unsplash.com/photo-xxx
미리보기: 입력 즉시 썸네일 표시
기본값: 플레이스홀더 이미지 자동 적용
```

#### 4. 오답 글자 (권장)
```
입력: n, e, x
형식: 쉼표로 구분된 단일 문자
용도: 정답 글자와 섞여서 선택지로 표시
```

#### 5. 파닉스 규칙 (선택)

| 규칙명 | 설명 | 색상 |
|--------|------|------|
| Magic E | 묵음 E가 앞 모음을 장모음으로 변환 | 분홍 |
| Digraph sh | S+H = /sh/ 소리 | 주황 |
| Digraph ch | C+H = /ch/ 소리 | 파랑 |
| Digraph th | T+H = /th/ 소리 | 초록 |
| Long vowel | 장모음 | 보라 |
| Short vowel | 단모음 | 빨강 |

#### 6. 강조 인덱스 (파닉스 선택 시)
```
입력: 0, 2
설명: 정답 단어에서 파닉스 규칙이 적용되는 글자 위치
예시: "cake"에서 Magic E → 인덱스 1, 3 (a와 e)
      c(0) a(1) k(2) e(3)
```

### 데이터 저장

- **저장 위치**: 브라우저 localStorage
- **저장 키**: `phonics-master-levels`
- **형식**: JSON 배열
- **지속성**: 브라우저 새로고침/재시작 후에도 유지
- **초기화**: localStorage 삭제 시 기본 레벨로 복원

### 레벨 데이터 구조

```typescript
interface QuizLevel {
  id: number;              // 고유 ID (타임스탬프)
  sentence: string;        // 문장 (빈칸 포함)
  targetWord: string;      // 정답 단어
  imageHint: string;       // 힌트 이미지 URL
  distractors: string[];   // 오답 글자 배열
  phonicsRules?: {         // 파닉스 규칙 (선택)
    name: string;          // 규칙 이름
    indices: number[];     // 강조 글자 위치
    color: string;         // 강조 색상
    description: string;   // 규칙 설명
  }[];
}
```

### 사용 예시

#### 새 레벨 추가하기

1. 시작 화면에서 ⚙️ 클릭
2. "새 레벨" 버튼 클릭
3. 폼 작성:
   - 문장: `I see a ____.`
   - 정답: `dog`
   - 이미지: `https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400`
   - 오답 글자: `c, f`
4. "레벨 추가" 클릭
5. "게임으로 돌아가기" 클릭하여 게임 시작

#### 레벨 수정하기

1. 관리 화면에서 수정할 레벨 카드 클릭
2. 오른쪽 폼에서 내용 수정
3. "수정 저장" 클릭

#### 레벨 삭제하기

1. 삭제할 레벨의 🗑️ 아이콘 클릭
2. 확인 대화상자에서 "확인" 클릭

### 주의사항

- 레벨이 0개일 경우 게임 시작 불가 (경고 메시지 표시)
- 이미지 URL이 유효하지 않으면 오류 플레이스홀더 표시
- 오답 글자는 단일 문자만 유효 (여러 글자 입력 시 무시)
- 파닉스 인덱스는 정답 단어 길이 범위 내여야 함
